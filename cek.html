<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Layanan WiFi - NetSpeed</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        header {
            background: linear-gradient(135deg, green);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .form-wrapper {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 3rem;
        }

        .section-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid #667eea;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #444;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .required {
            color: #e74c3c;
            margin-left: 2px;
        }

        .form-control {
            width: 100%;
            padding: 0.9rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        select.form-control {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            padding-right: 2.5rem;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .plan-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .plan-card {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 1.2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .plan-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .plan-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .plan-card input[type="radio"] {
            display: none;
        }

        .plan-name {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .plan-speed {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .plan-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: #667eea;
        }

        .plan-card.selected .plan-price {
            color: white;
        }

        .property-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .property-option {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .property-option:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }

        .property-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .property-option input[type="radio"] {
            display: none;
        }

        .property-icon {
            font-size: 2rem;
            margin-bottom: 0.3rem;
        }

        .property-label {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .map-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #f0f0f0;
        }

        #map {
            width: 100%;
            height: 450px;
            border-radius: 15px;
            border: 3px solid #e0e0e0;
            margin-bottom: 1rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .map-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .btn-map {
            padding: 0.9rem 1.2rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-map:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .btn-map.secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-map.secondary:hover {
            background: #f5f7ff;
        }

        .coordinates-box {
            background: #f8f9fc;
            padding: 1.2rem;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .coord-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.6rem 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .coord-item:last-child {
            border-bottom: none;
        }

        .coord-label {
            font-weight: 600;
            color: #666;
            font-size: 0.95rem;
        }

        .coord-value {
            font-family: 'Courier New', monospace;
            color: #667eea;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .info-box {
            background: #fff3cd;
            padding: 1rem;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .info-box.blue {
            background: #e3f2fd;
            border-left-color: #2196f3;
        }

        .btn-submit {
            width: 100%;
            padding: 1.1rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1.5rem;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-reset {
            width: 100%;
            padding: 0.9rem 2rem;
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 0.8rem;
        }

        .btn-reset:hover {
            background: #f5f7ff;
        }

        .alert {
            padding: 1.2rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            display: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .alert-error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            color: #721c24;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .form-wrapper {
                padding: 2rem;
            }

            .input-row {
                grid-template-columns: 1fr;
            }

            .plan-selector {
                grid-template-columns: 1fr;
            }

            .property-options {
                grid-template-columns: 1fr;
            }

            .map-controls {
                grid-template-columns: 1fr;
            }

            #map {
                height: 350px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">StarNet</div>
            <ul class="nav-links">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="ketersediaan.html">Ketersediaan</a></li>
                <li><a href="paket.html">Paket</a></li>
                <li><a href="tentangKami.html">Tentang Kami</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <div class="header">
            <h1>‚ö° Formulir Pendaftaran WiFi NetSpeed</h1>
            <p>Lengkapi data berikut untuk berlangganan internet super cepat</p>
        </div>

        <div class="form-wrapper">
            <div class="alert alert-success" id="successAlert">
                <strong>‚úì Pendaftaran Berhasil!</strong><br>
                Tim kami akan menghubungi Anda dalam 1x24 jam untuk proses instalasi.
            </div>

            <div class="alert alert-error" id="errorAlert">
                <strong>‚úó Perhatian!</strong><br>
                <span id="errorMessage">Mohon lengkapi semua data yang wajib diisi (ditandai dengan *).</span>
            </div>

            <form id="registrationForm">
                <div class="section-title">
                    üìã Data Pendaftaran
                </div>

                <!-- Nama -->
                <div class="form-group">
                    <label>Nama Lengkap <span class="required">*</span></label>
                    <input type="text" class="form-control" name="nama" placeholder="Contoh: Ahmad Syahputra" required>
                </div>

                <!-- NIK & Nomor Telepon -->
                <div class="input-row">
                    <div class="form-group">
                        <label>NIK (KTP) <span class="required">*</span></label>
                        <input type="text" class="form-control" name="nik" placeholder="16 digit NIK" maxlength="16" pattern="[0-9]{16}" required>
                    </div>
                    <div class="form-group">
                        <label>Nomor Telepon <span class="required">*</span></label>
                        <input type="tel" class="form-control" name="telepon" placeholder="08123456789" pattern="[0-9]{10,13}" required>
                    </div>
                </div>

                <!-- Provinsi & Kota -->
                <div class="input-row">
                    <div class="form-group">
                        <label>Provinsi <span class="required">*</span></label>
                        <select class="form-control" name="provinsi" id="provinsi" required>
                            <option value="">Pilih Provinsi</option>
                            <option value="DKI Jakarta">DKI Jakarta</option>
                            <option value="Jawa Barat">Jawa Barat</option>
                            <option value="Jawa Tengah">Jawa Tengah</option>
                            <option value="Jawa Timur">Jawa Timur</option>
                            <option value="DI Yogyakarta">DI Yogyakarta</option>
                            <option value="Banten">Banten</option>
                            <option value="Bali">Bali</option>
                            <option value="Sumatera Utara">Sumatera Utara</option>
                            <option value="Sumatera Barat">Sumatera Barat</option>
                            <option value="Sumatera Selatan">Sumatera Selatan</option>
                            <option value="Kalimantan Timur">Kalimantan Timur</option>
                            <option value="Sulawesi Selatan">Sulawesi Selatan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Kota/Kabupaten <span class="required">*</span></label>
                        <select class="form-control" name="kota" id="kota" required>
                            <option value="">Pilih Kota</option>
                        </select>
                    </div>
                </div>

                <!-- Alamat Lengkap -->
                <div class="form-group">
                    <label>Alamat Lengkap <span class="required">*</span></label>
                    <textarea class="form-control" name="alamat" rows="3" placeholder="Jalan, RT/RW, Kelurahan, Kecamatan" required></textarea>
                </div>

                <!-- Map Section - DIPINDAH KE SINI -->
                <div class="map-section">
                    <div class="section-title">
                        üìç Lokasi Instalasi
                    </div>

                    <div class="info-box">
                        üí° <strong>Cara Penggunaan:</strong><br>
                        ‚Ä¢ Klik pada peta untuk menandai lokasi instalasi<br>
                        ‚Ä¢ Atau gunakan tombol "Gunakan Lokasi Saya" untuk auto-detect GPS<br>
                        ‚Ä¢ Geser marker untuk menyesuaikan posisi
                    </div>

                    <div id="map"></div>

                    <div class="map-controls">
                        <button type="button" class="btn-map" onclick="getCurrentLocation()">
                            üìç Gunakan Lokasi Saya
                        </button>
                        <button type="button" class="btn-map secondary" onclick="searchLocation()">
                            üîç Cari Alamat
                        </button>
                    </div>

                    <div class="coordinates-box">
                        <div class="coord-item">
                            <span class="coord-label">Latitude:</span>
                            <span class="coord-value" id="latDisplay">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Longitude:</span>
                            <span class="coord-value" id="lngDisplay">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Status:</span>
                            <span class="coord-value" id="statusDisplay" style="color: #999;">Belum ditandai</span>
                        </div>
                    </div>

                    <div class="info-box blue">
                        ‚ÑπÔ∏è Koordinat GPS akan membantu teknisi menemukan lokasi Anda dengan akurat dan mempercepat proses instalasi.
                    </div>
                </div>

                <div class="section-title">
                    üì° Pilihan Paket
                </div>
                
                <div class="form-group" id="internet-only">
                    <label>üåê Paket Internet Only <span class="required">*</span></label>
                    <div class="plan-selector">
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Basic 50 Mbps - Rp 200.000" required>
                            <div class="plan-name">Basic</div>
                            <div class="plan-speed">50 Mbps</div>
                            <div class="plan-price">Rp 200K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Popular 100 Mbps - Rp 350.000" required>
                            <div class="plan-name">Popular</div>
                            <div class="plan-speed">100 Mbps</div>
                            <div class="plan-price">Rp 350K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Premium 300 Mbps - Rp 500.000" required>
                            <div class="plan-name">Premium</div>
                            <div class="plan-speed">300 Mbps</div>
                            <div class="plan-price">Rp 500K</div>
                        </label>
                    </div>
                </div>
                
                <hr style="margin: 2rem 0; border: 0; border-top: 1px dashed #ccc;">

                <div class="form-group" id="internet-tv">
                    <label>üì∫ Paket Internet + TV <span class="required">*</span></label>
                    <div class="plan-selector">
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Basic 50 Mbps + 80 Channel - Rp 350.000">
                            <div class="plan-name">Combo Basic</div>
                            <div class="plan-speed">50 Mbps + 80 CH</div>
                            <div class="plan-price">Rp 350K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Premium 100 Mbps + 150 Channel - Rp 550.000">
                            <div class="plan-name">Combo Premium</div>
                            <div class="plan-speed">100 Mbps + 150 CH</div>
                            <div class="plan-price">Rp 550K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Ultimate 300 Mbps + 200 Channel - Rp 750.000">
                            <div class="plan-name">Combo Ultimate</div>
                            <div class="plan-speed">300 Mbps + 200 CH</div>
                            <div class="plan-price">Rp 750K</div>
                        </label>
                    </div>
                </div>

                <!-- Jenis Properti -->
                <div class="form-group">
                    <label>Jenis Properti <span class="required">*</span></label>
                    <div class="property-options">
                        <label class="property-option">
                            <input type="radio" name="properti" value="Rumah" required>
                            <div class="property-icon">üè†</div>
                            <div class="property-label">Rumah</div>
                        </label>
                        <label class="property-option">
                            <input type="radio" name="properti" value="Apartemen" required>
                            <div class="property-icon">üè¢</div>
                            <div class="property-label">Apartemen</div>
                        </label>
                    </div>
                </div>

                <!-- Catatan -->
                <div class="form-group">
                    <label>Catatan Tambahan</label>
                    <textarea class="form-control" name="catatan" rows="3" placeholder="Informasi tambahan untuk tim instalasi (opsional)"></textarea>
                </div>

                <!-- Hidden fields for coordinates -->
                <input type="hidden" name="latitude" id="latitude">
                <input type="hidden" name="longitude" id="longitude">

                <!-- Submit Button -->
                <button type="submit" class="btn-submit">
                    üöÄ Kirim Pendaftaran
                </button>
                <button type="button" class="btn-reset" onclick="resetForm()">
                    ‚Ü∫ Reset Form
                </button>
            </form>
        </div>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBybhabOVzt4qFRG9tFFKGEvgu7K7Ls3RA&callback=initMap" async defer></script>
    <script>
        let map;
        let marker;
        let geocoder;
        let selectedCoords = null;

        // City data based on province
        const cityData = {
            "DKI Jakarta": ["Jakarta Pusat", "Jakarta Utara", "Jakarta Barat", "Jakarta Selatan", "Jakarta Timur"],
            "Jawa Barat": ["Bandung", "Bekasi", "Bogor", "Depok", "Cirebon", "Sukabumi", "Tasikmalaya"],
            "Jawa Tengah": ["Semarang", "Solo", "Magelang", "Salatiga", "Pekalongan", "Tegal"],
            "Jawa Timur": ["Surabaya", "Malang", "Kediri", "Probolinggo", "Madiun", "Blitar"],
            "DI Yogyakarta": ["Yogyakarta", "Bantul", "Sleman", "Kulon Progo", "Gunung Kidul"],
            "Banten": ["Tangerang", "Tangerang Selatan", "Serang", "Cilegon", "Pandeglang"],
            "Bali": ["Denpasar", "Badung", "Gianyar", "Tabanan", "Buleleng"],
            "Sumatera Utara": ["Medan", "Binjai", "Pematangsiantar", "Tebing Tinggi"],
            "Sumatera Barat": ["Padang", "Bukittinggi", "Payakumbuh", "Solok"],
            "Sumatera Selatan": ["Palembang", "Prabumulih", "Lubuklinggau"],
            "Kalimantan Timur": ["Balikpapan", "Samarinda", "Bontang"],
            "Sulawesi Selatan": ["Makassar", "Pare-Pare", "Palopo"]
        };

        // Initialize map
        function initMap() {
            const defaultCenter = { lat: -6.2088, lng: 106.8456 }; // Jakarta
            
            map = new google.maps.Map(document.getElementById('map'), {
                center: defaultCenter,
                zoom: 13,
                mapTypeControl: true,
                streetViewControl: true,
                fullscreenControl: true,
                zoomControl: true
            });

            geocoder = new google.maps.Geocoder();

            marker = new google.maps.Marker({
                map: map,
                draggable: true,
                animation: google.maps.Animation.DROP,
                visible: false
            });

            // Map click event
            map.addListener('click', function(e) {
                placeMarker(e.latLng);
            });

            // Marker drag event
            marker.addListener('dragend', function(e) {
                updateCoordinates(e.latLng);
            });
        }

        function placeMarker(location) {
            marker.setPosition(location);
            marker.setVisible(true);
            marker.setAnimation(google.maps.Animation.BOUNCE);
            setTimeout(() => marker.setAnimation(null), 750);
            map.panTo(location);
            updateCoordinates(location);
        }

        function updateCoordinates(location) {
            const lat = location.lat();
            const lng = location.lng();
            
            selectedCoords = { lat, lng };
            
            document.getElementById('latDisplay').textContent = lat.toFixed(6);
            document.getElementById('lngDisplay').textContent = lng.toFixed(6);
            document.getElementById('latitude').value = lat;
            document.getElementById('longitude').value = lng;
            document.getElementById('statusDisplay').textContent = '‚úì Termarkir';
            document.getElementById('statusDisplay').style.color = '#28a745';
        }

        function getCurrentLocation() {
            if (navigator.geolocation) {
                document.getElementById('statusDisplay').textContent = 'Mencari lokasi...';
                document.getElementById('statusDisplay').style.color = '#ffc107';
                
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        map.setCenter(pos);
                        map.setZoom(16);
                        placeMarker(new google.maps.LatLng(pos.lat, pos.lng));
                    },
                    function() {
                        alert('‚ùå Tidak dapat mengakses lokasi Anda. Pastikan Anda memberikan izin akses lokasi pada browser.');
                        document.getElementById('statusDisplay').textContent = 'Gagal mendapatkan lokasi';
                        document.getElementById('statusDisplay').style.color = '#dc3545';
                    }
                );
            } else {
                alert('‚ùå Browser Anda tidak mendukung Geolocation.');
            }
        }

        function searchLocation() {
            const address = prompt('üîç Masukkan alamat yang ingin dicari:');
            if (address) {
                geocoder.geocode({ address: address }, function(results, status) {
                    if (status === 'OK') {
                        map.setCenter(results[0].geometry.location);
                        map.setZoom(16);
                        placeMarker(results[0].geometry.location);
                    } else {
                        alert('‚ùå Alamat tidak ditemukan. Coba dengan kata kunci yang lebih spesifik.');
                    }
                });
            }
        }

        // Province change handler
        document.getElementById('provinsi').addEventListener('change', function() {
            const provinsi = this.value;
            const kotaSelect = document.getElementById('kota');
            
            kotaSelect.innerHTML = '<option value="">Pilih Kota</option>';
            
            if (provinsi && cityData[provinsi]) {
                cityData[provinsi].forEach(function(city) {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    kotaSelect.appendChild(option);
                });
            }
        });

        // Plan selector
        document.querySelectorAll('.plan-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Property selector
        document.querySelectorAll('.property-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.property-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check if location is marked
            if (!selectedCoords) {
                document.getElementById('errorMessage').textContent = 'Mohon tandai lokasi instalasi pada peta terlebih dahulu!';
                document.getElementById('errorAlert').style.display = 'block';
                document.getElementById('successAlert').style.display = 'none';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Scroll to map
                document.getElementById('map').scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            console.log('üìù Data Pendaftaran:', data);
            console.log('üìç Koordinat Lokasi:', selectedCoords);
            
            // Show success message
            document.getElementById('errorAlert').style.display = 'none';
            document.getElementById('successAlert').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Reset form after success
            setTimeout(() => {
                resetForm();
                document.getElementById('successAlert').style.display = 'none';
            }, 4000);
        });

        function resetForm() {
            document.getElementById('registrationForm').reset();
            document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
            document.querySelectorAll('.property-option').forEach(o => o.classList.remove('selected'));
            document.getElementById('kota').innerHTML = '<option value="">Pilih Kota</option>';
            
            // Reset map and marker
            if (marker) {
                marker.setVisible(false);
            }
            selectedCoords = null;
            document.getElementById('latDisplay').textContent = '-';
            document.getElementById('lngDisplay').textContent = '-';
            document.getElementById('statusDisplay').textContent = 'Belum ditandai';
            document.getElementById('statusDisplay').style.color = '#999';
            document.getElementById('latitude').value = '';
            document.getElementById('longitude').value = '';
            
            // Reset alerts
            document.getElementById('successAlert').style.display = 'none';
            document.getElementById('errorAlert').style.display = 'none';
        }
    </script>
</body>
</html>