<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Layanan WiFi - StarNet</title>
    <link rel="stylesheet" href="pendaftaran.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">StarNet</div>
            <ul class="nav-links">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="ketersediaan.html">Ketersediaan</a></li>
                <li><a href="paket.html">Paket</a></li>
                <li><a href="tentangKami.html">Tentang Kami</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="header">
            <h1>Formulir Pendaftaran WiFi StarNet</h1>
            <p>Lengkapi data berikut untuk berlangganan internet super cepat</p>
        </div>

        <div class="form-wrapper">
            <div class="alert alert-success" id="successAlert">
                <strong>‚úì Pendaftaran Berhasil!</strong><br>
                Tim kami akan menghubungi Anda dalam 1x24 jam untuk proses instalasi.
            </div>

            <div class="alert alert-error" id="errorAlert">
                <strong>‚úó Perhatian!</strong><br>
                <span id="errorMessage">Mohon lengkapi semua data yang wajib diisi (ditandai dengan *).</span>
            </div>

            <form id="registrationForm">
                <div class="section-title">
                    üìã Data Pendaftaran
                </div>

                <div class="form-group">
                    <label>Nama Lengkap <span class="required">*</span></label>
                    <input type="text" class="form-control" name="nama" placeholder="Contoh: Ahmad Syahputra" required>
                </div>

                <div class="input-row">
                    <div class="form-group">
                        <label>NIK (KTP) <span class="required">*</span></label>
                        <input type="text" class="form-control" name="nik" placeholder="16 digit NIK" maxlength="16" pattern="[0-9]{16}" required>
                    </div>
                    <div class="form-group">
                        <label>Nomor Telepon <span class="required">*</span></label>
                        <input type="tel" class="form-control" name="telepon" placeholder="08123456789" pattern="[0-9]{10,13}" required>
                    </div>
                </div>

                <div class="input-row">
                    <div class="form-group">
                        <label>Provinsi <span class="required">*</span></label>
                        <select class="form-control" name="provinsi" id="provinsi" required>
                            <option value="">Pilih Provinsi</option>
                            <option value="DKI Jakarta">DKI Jakarta</option>
                            <option value="Jawa Barat">Jawa Barat</option>
                            <option value="Jawa Tengah">Jawa Tengah</option>
                            <option value="Jawa Timur">Jawa Timur</option>
                            <option value="DI Yogyakarta">DI Yogyakarta</option>
                            <option value="Banten">Banten</option>
                            <option value="Bali">Bali</option>
                            <option value="Sumatera Utara">Sumatera Utara</option>
                            <option value="Sumatera Barat">Sumatera Barat</option>
                            <option value="Sumatera Selatan">Sumatera Selatan</option>
                            <option value="Kalimantan Timur">Kalimantan Timur</option>
                            <option value="Sulawesi Selatan">Sulawesi Selatan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Kota/Kabupaten <span class="required">*</span></label>
                        <select class="form-control" name="kota" id="kota" required>
                            <option value="">Pilih Kota</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Alamat Lengkap <span class="required">*</span></label>
                    <textarea class="form-control" name="alamat" rows="3" placeholder="Jalan, RT/RW, Kelurahan, Kecamatan" required></textarea>
                </div>

                <div class="map-section">
                    <div class="section-title">
                        üìç Lokasi Instalasi
                    </div>

                    <div class="info-box">
                        üí° <strong>Cara Penggunaan:</strong><br>
                        ‚Ä¢ Klik pada peta untuk menandai lokasi instalasi<br>
                        ‚Ä¢ Atau gunakan tombol "Gunakan Lokasi Saya" untuk auto-detect GPS<br>
                        ‚Ä¢ Geser marker untuk menyesuaikan posisi
                    </div>

                    <div id="map"></div>

                    <div class="map-controls">
                        <button type="button" class="btn-map" onclick="getCurrentLocation()">
                            üìç Gunakan Lokasi Saya
                        </button>
                        <button type="button" class="btn-map secondary" onclick="searchLocation()">
                            üîç Cari Alamat
                        </button>
                    </div>

                    <div class="coordinates-box">
                        <div class="coord-item">
                            <span class="coord-label">Latitude:</span>
                            <span class="coord-value" id="latDisplay">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Longitude:</span>
                            <span class="coord-value" id="lngDisplay">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Status:</span>
                            <span class="coord-value" id="statusDisplay" style="color: #999;">Belum ditandai</span>
                        </div>
                    </div>

                    <div class="info-box blue">
                        ‚ÑπÔ∏è Koordinat GPS akan membantu teknisi menemukan lokasi Anda dengan akurat dan mempercepat proses instalasi.
                    </div>
                </div>
                
                <div class="section-title">
                    üì° Pilihan Paket
                </div>
                
                <div class="form-group" id="internet-only">
                    <label>üåê Paket Internet Only <span class="required">*</span></label>
                    <div class="plan-selector">
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Basic 50 Mbps - Rp 200.000" required>
                            <div class="plan-name">Basic</div>
                            <div class="plan-speed">50 Mbps</div>
                            <div class="plan-price">Rp 200K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Popular 100 Mbps - Rp 350.000" required>
                            <div class="plan-name">Popular</div>
                            <div class="plan-speed">100 Mbps</div>
                            <div class="plan-price">Rp 350K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet Only - Premium 300 Mbps - Rp 500.000" required>
                            <div class="plan-name">Premium</div>
                            <div class="plan-speed">300 Mbps</div>
                            <div class="plan-price">Rp 500K</div>
                        </label>
                    </div>
                </div>
                
                <hr style="margin: 2rem 0; border: 0; border-top: 1px dashed #ccc;">

                <div class="form-group" id="internet-tv">
                    <label>üì∫ Paket Internet + TV <span class="required">*</span></label>
                    <div class="plan-selector">
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Basic 50 Mbps + 80 Channel - Rp 350.000">
                            <div class="plan-name">Combo Basic</div>
                            <div class="plan-speed">50 Mbps + 80 CH</div>
                            <div class="plan-price">Rp 350K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Premium 100 Mbps + 150 Channel - Rp 550.000">
                            <div class="plan-name">Combo Premium</div>
                            <div class="plan-speed">100 Mbps + 150 CH</div>
                            <div class="plan-price">Rp 550K</div>
                        </label>
                        <label class="plan-card">
                            <input type="radio" name="paket" value="Internet TV - Combo Ultimate 300 Mbps + 200 Channel - Rp 750.000">
                            <div class="plan-name">Combo Ultimate</div>
                            <div class="plan-speed">300 Mbps + 200 CH</div>
                            <div class="plan-price">Rp 750K</div>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Jenis Properti <span class="required">*</span></label>
                    <div class="property-options">
                        <label class="property-option">
                            <input type="radio" name="properti" value="Rumah" required>
                            <div class="property-icon">üè†</div>
                            <div class="property-label">Rumah</div>
                        </label>
                        <label class="property-option">
                            <input type="radio" name="properti" value="Apartemen" required>
                            <div class="property-icon">üè¢</div>
                            <div class="property-label">Apartemen</div>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Catatan Tambahan</label>
                    <textarea class="form-control" name="catatan" rows="3" placeholder="Informasi tambahan untuk tim instalasi (opsional)"></textarea>
                </div>

                <button type="submit" class="btn-submit">
                    üöÄ Kirim Pendaftaran
                </button>
                <button type="button" class="btn-reset" onclick="resetForm()">
                    ‚Ü∫ Reset Form
                </button>
            </form>
        </div>
    </div>

   
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBybhabOVzt4qFRG9tFFKGEvgu7K7Ls3RA&callback=initMap" async defer></script>
    <script>
        let map;
        let marker;
        let geocoder;
        let selectedCoords = null;

        // City data based on province
        const cityData = {
            "DKI Jakarta": ["Jakarta Pusat", "Jakarta Utara", "Jakarta Barat", "Jakarta Selatan", "Jakarta Timur"],
            "Jawa Barat": ["Bandung", "Bekasi", "Bogor", "Depok", "Cirebon", "Sukabumi", "Tasikmalaya"],
            "Jawa Tengah": ["Semarang", "Solo", "Magelang", "Salatiga", "Pekalongan", "Tegal"],
            "Jawa Timur": ["Surabaya", "Malang", "Kediri", "Probolinggo", "Madiun", "Blitar"],
            "DI Yogyakarta": ["Yogyakarta", "Bantul", "Sleman", "Kulon Progo", "Gunung Kidul"],
            "Banten": ["Tangerang", "Tangerang Selatan", "Serang", "Cilegon", "Pandeglang"],
            "Bali": ["Denpasar", "Badung", "Gianyar", "Tabanan", "Buleleng"],
            "Sumatera Utara": ["Medan", "Binjai", "Pematangsiantar", "Tebing Tinggi"],
            "Sumatera Barat": ["Padang", "Bukittinggi", "Payakumbuh", "Solok"],
            "Sumatera Selatan": ["Palembang", "Prabumulih", "Lubuklinggau"],
            "Kalimantan Timur": ["Balikpapan", "Samarinda", "Bontang"],
            "Sulawesi Selatan": ["Makassar", "Pare-Pare", "Palopo"]
        };

        // Initialize map
        function initMap() {
            const defaultCenter = { lat: -6.2088, lng: 106.8456 }; // Jakarta
            
            map = new google.maps.Map(document.getElementById('map'), {
                center: defaultCenter,
                zoom: 13,
                mapTypeControl: true,
                streetViewControl: true,
                fullscreenControl: true,
                zoomControl: true
            });

            geocoder = new google.maps.Geocoder();

            marker = new google.maps.Marker({
                map: map,
                draggable: true,
                animation: google.maps.Animation.DROP,
                visible: false
            });

            // Map click event
            map.addListener('click', function(e) {
                placeMarker(e.latLng);
            });

            // Marker drag event
            marker.addListener('dragend', function(e) {
                updateCoordinates(e.latLng);
            });
        }

        function placeMarker(location) {
            marker.setPosition(location);
            marker.setVisible(true);
            marker.setAnimation(google.maps.Animation.BOUNCE);
            setTimeout(() => marker.setAnimation(null), 750);
            map.panTo(location);
            updateCoordinates(location);
        }

        function updateCoordinates(location) {
            const lat = location.lat();
            const lng = location.lng();
            
            selectedCoords = { lat, lng };
            
            document.getElementById('latDisplay').textContent = lat.toFixed(6);
            document.getElementById('lngDisplay').textContent = lng.toFixed(6);
            document.getElementById('latitude').value = lat;
            document.getElementById('longitude').value = lng;
            document.getElementById('statusDisplay').textContent = '‚úì Termarkir';
            document.getElementById('statusDisplay').style.color = '#28a745';
        }

        function getCurrentLocation() {
            if (navigator.geolocation) {
                document.getElementById('statusDisplay').textContent = 'Mencari lokasi...';
                document.getElementById('statusDisplay').style.color = '#ffc107';
                
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        map.setCenter(pos);
                        map.setZoom(16);
                        placeMarker(new google.maps.LatLng(pos.lat, pos.lng));
                    },
                    function() {
                        alert('‚ùå Tidak dapat mengakses lokasi Anda. Pastikan Anda memberikan izin akses lokasi pada browser.');
                        document.getElementById('statusDisplay').textContent = 'Gagal mendapatkan lokasi';
                        document.getElementById('statusDisplay').style.color = '#dc3545';
                    }
                );
            } else {
                alert('‚ùå Browser Anda tidak mendukung Geolocation.');
            }
        }

        function searchLocation() {
            const address = prompt('üîç Masukkan alamat yang ingin dicari:');
            if (address) {
                geocoder.geocode({ address: address }, function(results, status) {
                    if (status === 'OK') {
                        map.setCenter(results[0].geometry.location);
                        map.setZoom(16);
                        placeMarker(results[0].geometry.location);
                    } else {
                        alert('‚ùå Alamat tidak ditemukan. Coba dengan kata kunci yang lebih spesifik.');
                    }
                });
            }
        }

        // Province change handler
        document.getElementById('provinsi').addEventListener('change', function() {
            const provinsi = this.value;
            const kotaSelect = document.getElementById('kota');
            
            kotaSelect.innerHTML = '<option value="">Pilih Kota</option>';
            
            if (provinsi && cityData[provinsi]) {
                cityData[provinsi].forEach(function(city) {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    kotaSelect.appendChild(option);
                });
            }
        });

        // Plan selector
        document.querySelectorAll('.plan-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Property selector
        document.querySelectorAll('.property-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.property-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Ganti bagian Form submission yang lama dengan ini:
document.getElementById('registrationForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Check if location is marked
    if (!selectedCoords) {
        document.getElementById('errorMessage').textContent = 'Mohon tandai lokasi instalasi pada peta terlebih dahulu!';
        document.getElementById('errorAlert').style.display = 'block';
        document.getElementById('map').scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }
    
    // Ambil data (untuk simulasi)
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);
    
    console.log('üìù Data Pendaftaran Berhasil!', data);

    // TAMPILKAN MODAL POPUP
    const modal = document.getElementById('successModal');
    modal.style.display = 'flex';
});

// Tambahkan fungsi untuk menutup modal
function finishAndRedirect() {
    // Bisa tambahkan animasi fade out sebelum pindah halaman jika mau
    const modal = document.getElementById('successModal');
    modal.style.opacity = '0';
    
    setTimeout(() => {
        window.location.href = "index.html"; // Berpindah ke halaman utama
    }, 300);
}
    </script>
    <div id="successModal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-icon">üöÄ</div>
        <h2>Pendaftaran Terkirim!</h2>
        <p>Terima kasih telah memilih <strong>StarNet</strong>. Data Anda sedang kami proses.</p>
        <div class="modal-details">
            <p>Tim kami akan menghubungi Anda dalam <strong>1x24 jam</strong> melalui nomor telepon yang terdaftar untuk jadwal instalasi.</p>
        </div>
        <button class="btn-close-modal" onclick="finishAndRedirect()">Selesai</button>
    </div>
</div>
</body>
</html>